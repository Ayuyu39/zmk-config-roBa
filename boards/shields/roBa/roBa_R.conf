CONFIG_ZMK_KEYBOARD_NAME="roBa"

# ===== 基本機能設定 =====
CONFIG_ZMK_POINTING=y              # ポインティング機能を有効化
CONFIG_NFCT_PINS_AS_GPIOS=y        # NFC無効で GPIO として使用
CONFIG_ZMK_BLE=y                   # Bluetooth LE通信を有効化

# ===== SPI・入力設定 =====
CONFIG_SPI=y                       # SPI (トラックボール通信用)
CONFIG_INPUT=y                     # 入力デバイス機能を有効化

# ===== PMW3610 トラックボール基本設定 =====
CONFIG_PMW3610=y                   # PMW3610 トラックボールを有効化

/* CPI (Counts Per Inch) 設定: トラックボールの感度
   300 = 低感度（精密作業向け）
   400 = 標準感度 （現在の設定）
   600 = 高感度（俊敏性重視）
   800+ = 超高感度
   調整: 値を変更して全体的な感度を変更 */
CONFIG_PMW3610_CPI=400

/* CPI ディバイダー: CPI をさらに分割
   1 = CPI値そのまま (現在の設定)
   2 = CPI値の 1/2
   4 = CPI値の 1/4
   調整: CPI を変更せずに感度を下げたい場合に使用 */
CONFIG_PMW3610_CPI_DIVIDOR=1

/* トラックボール向き調整: センサーの上下反転
   y = 180度回転
   n = 回転なし (現在の設定)
   調整: トラックボールの取付け向きに応じて変更 */
CONFIG_PMW3610_ORIENTATION_180=y

/* スナップショット (一時高感度) 設定
   有効にするとキーで高感度モードに切り替え可能
   調整: # を削除して有効化 */
# CONFIG_PMW3610_SNIPE_CPI=800              # スナップショット時 CPI
# CONFIG_PMW3610_SNIPE_CPI_DIVIDOR=4        # スナップショット時 CPI ディバイダー

/* スクロール設定 */
CONFIG_PMW3610_SCROLL_TICK=16              # スクロールステップ (値が小さい=細かい)

/* X軸・Y軸反転設定 */
CONFIG_PMW3610_INVERT_X=n                  # X軸反転: y=反転, n=反転なし (現在: なし)
CONFIG_PMW3610_INVERT_SCROLL_X=y           # スクロール X軸反転: y=反転, n=反転なし (現在: 反転)

/* 動作モード切り替え待ち時間: トラックボールが動作モード間で遷移するまでの時間
   単位: ミリ秒
   調整: センサーの応答性を変更 */
CONFIG_PMW3610_RUN_DOWNSHIFT_TIME_MS=3264

/* REST1 モード設定: 第1スリープモード (低消費電力)
   REST1_SAMPLE_TIME_MS: サンプリングレート
     単位: ミリ秒
     20 = 50Hz (現在), 40 = 25Hz, 80 = 12.5Hz
     値が小さい = より頻繁にサンプリング = より応答性が高い
   調整: バッテリー消費とレスポンスのバランスを変更 */
CONFIG_PMW3610_REST1_SAMPLE_TIME_MS=20
#CONFIG_PMW3610_REST1_DOWNSHIFT_TIME_MS=9600   # REST1 から REST2 への遷移時間

/* REST2・REST3 モード設定: さらに低消費電力 (コメントアウト中)
   有効にするとさらなるバッテリー節約が可能
   調整: # を削除して有効化 */
#CONFIG_PMW3610_REST2_SAMPLE_TIME_MS=
#CONFIG_PMW3610_REST2_DOWNSHIFT_TIME_MS=
#CONFIG_PMW3610_REST3_SAMPLE_TIME_MS=
#CONFIG_PMW3610_REST3_DOWNSHIFT_TIME_MS=
#CONFIG_PMW3610_FORCE_AWAKE=n               # 常時起動 (スリープ無効)

/* ポーリングレート設定: トラックボール入力の更新頻度
   125 = 125Hz (低消費電力, 現在の設定)
   250 = 250Hz (標準)
   調整: 応答性とバッテリー消費のバランスを変更 */
CONFIG_PMW3610_POLLING_RATE_125_SW=y

/* オートマウス自動無効化のタイムアウト
   単位: ミリ秒
   300 = 0.3秒 (現在: トラックボール操作 0.3秒で自動無効化)
   調整: トラックボール使用後、どのくらいでマウスレイヤーから抜けるか */
CONFIG_PMW3610_AUTOMOUSE_TIMEOUT_MS=300

/* 動き検知の最小閾値
   0 = 最小限の動きで反応 (現在: 現在の設定)
   5-10 = 若干のノイズを無視
   調整: 誤反応を減らしたい場合に値を上げる */
CONFIG_PMW3610_MOVEMENT_THRESHOLD=0

/* スマートアルゴリズム: センサーの知能的な動作最適化
   y = 有効 (現在)
   n = 無効
   調整: 無効にすると基本的な動作モデルで動作 */
CONFIG_PMW3610_SMART_ALGORITHM=y

CONFIG_EC11=y
CONFIG_EC11_TRIGGER_GLOBAL_THREAD=y

CONFIG_ZMK_BATTERY_REPORTING=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_PROXY=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_FETCHING=y

# ===== ZMK Studio設定 =====
CONFIG_ZMK_STUDIO=y                # ZMK Studio リアルタイム設定を有効化
CONFIG_ZMK_STUDIO_LOCKING=n        # Studio ロック機能を無効化

# ===== バッテリー・システム設定 =====
CONFIG_ZMK_BATTERY_REPORTING=y              # バッテリーレポート機能を有効化
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_PROXY=y    # 右手からバッテリー情報を取得
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_FETCHING=y # バッテリーレベル定期取得

# ===== スリープ設定 =====
/* キーボード操作タイムアウト: 無操作時間でディープスリープに入る
   単位: ミリ秒
   500000 = 500秒 (8.33分) (現在の設定)
   300000 = 300秒 (5分)
   600000 = 600秒 (10分)
   900000 = 900秒 (15分)
   調整: 無操作でスリープに入るまでの時間を変更
   値を小さくする → より早くスリープ (バッテリー節約)
   値を大きくする → より長く起動状態維持 (利便性向上) */
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT_MS=500000

